### PHẦN 1: TÀI LIỆU KỸ THUẬT (SRS) CHO TICKET [BE-07]

#### **Ticket: [BE-07] Create Apartment (Thêm hộ khẩu)**

**1. Thông tin chung**

* **Assignee:** Backend Dev
* **Branch Name:** `feature/BE-07-create-apartment`
* **Estimated Time:** 1.5h

**2. Mô tả (Description)**
API tạo mới hồ sơ căn hộ (Hộ khẩu).

**3. Yêu cầu kỹ thuật (Technical Specs)**

*   **Endpoint:** `POST /api/apartments`
*   **Payload:**
    ```json
    {
      "name": "P101",
      "area": 80.5,
      "ownerId": "optional_resident_id",
      "apartmentNumber": "101",
      "building": "Tòa A"
    }
    ```

**4. Acceptance Criteria (Tiêu chí chấp nhận)**

* [x] **Uniqueness:** Kiểm tra tên phòng (`name`) đã tồn tại chưa. Tên phòng phải là duy nhất. Nếu trùng -> Error 400.
* [x] **Validation:** `area` phải là số dương. Sử dụng Zod schema để validate.
* [x] **Database:** Lưu thành công vào collection `Apartments`. Nếu có `ownerId`, tự động thêm vào mảng `members`.
* [x] **Optional Owner:** Nếu có gửi `ownerId`, kiểm tra resident đó có tồn tại không và format ObjectId hợp lệ trước khi lưu. Nếu không tồn tại -> Error 404.
* [x] **Response:** Trả về status 201 với thông tin apartment đã populate owner nếu có.
